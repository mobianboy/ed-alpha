!function(e,t){e.listTTL=[],t.ttl=function(){var n=arguments[0]&&typeof arguments[0]=="object"?t(arguments[0]):null,r=arguments[1]?arguments[1]:null,i=arguments[2]?arguments[2]:null;if(n==null&&arguments[0]&&arguments[0]=="reset"){for(o in e.listTTL)e.listTTL.hasOwnProperty(o)&&clearTimeout(e.listTTL[o]);e.listTTL=[];return}var s=n.attr("data-ttl"),o,u,a=function(e){switch(e){case"fast":e=44e4;break;case"medium":e=1e6;break;case"long":e=54e5;break;default:e=parseInt(e,10)}return e};s=a(s),dataArray=typeof i!="string"?i:i.replace(/\s/g,"").replace(/\_/g,"-").split(","),i={};for(o in dataArray)i[dataArray[o]]=n.attr("data-"+dataArray[o]);s>999&&i&&(e.listTTL[n.attr("id")]&&clearTimeout(e.listTTL[n.attr("id")]),e.listTTL[n.attr("id")]=setTimeout(function(){u=t.ajax({cache:!1,global:!1,url:r,data:i,type:"post",headers:{Connection:"close"}}).done(function(e){var i=t.parseJSON(e);n.children("[data-ttl]").each(function(){clearInterval(t(this).attr("id"))}),n.html(i.html),new t.ttl(n,r,dataArray),n.children("[data-ttl]").each(function(){a(t(this).attr("data-ttl"))<s&&new t.ttl(this,r,dataArray)})}).fail(function(){console.log(arguments)}).always(function(){t(document).trigger("TTL-Done",i)})},s),u&&setTimeout(u.abort,5e3))},t.fn.ttl=function(e,n){return this.each(function(r){(typeof options).match("object|undefined")&&new t.ttl(this,e,n)})}}(window,jQuery);